// Trashcollection

// Define Tokens
let TagName1 = "Sophämtning idag";
let TagName2 = "Kärl som hämtas idag";
let TagName3 = "Sophämtning i morgon";
let TagName4 = "Kärl som hämtas i morgon";

// Define static information
// Collection dates for Trashbin 1
var Trashbin1CollectDates = [
  // Dates for Trashbin 1
];

// Collection dates for Trashbin 2
var Trashbin2CollectDates = [
  // Dates for Trashbin 2
];

// Utility to add days to a date
function addDays(date, days) {
  var result = new Date(date);
  result.setDate(result.getDate() + days);
  return result.toISOString().substr(0, 10);
}

// Define today and tomorrow
var today = new Date().toISOString().substr(0, 10);
var tomorrow = addDays(today, 1);

// Initialize collections
var todayCollection = [];
var tomorrowCollection = [];

// Check today's collection
Trashbin1CollectDates.forEach(function(date) {
  if (date === today) {
    todayCollection.push("Kärl 1");
  }
});
Trashbin2CollectDates.forEach(function(date) {
  if (date === today) {
    todayCollection.push("Kärl 2");
  }
});

// Check tomorrow's collection
Trashbin1CollectDates.forEach(function(date) {
  if (date === tomorrow) {
    tomorrowCollection.push("Kärl 1");
  }
});
Trashbin2CollectDates.forEach(function(date) {
  if (date === tomorrow) {
    tomorrowCollection.push("Kärl 2");
  }
});

// Update tags for today
tag(TagName1, todayCollection.length > 0);
tag(TagName2, todayCollection.join(" & ") || "Ingen hämtning");

// Update tags for tomorrow
tag(TagName3, tomorrowCollection.length > 0);
tag(TagName4, tomorrowCollection.join(" & ") || "Ingen hämtning");

// Log the updated tags for verification
console.log(TagName1 + ": " + (todayCollection.length > 0));
console.log(TagName2 + ": " + (todayCollection.join(" & ") || "Ingen hämtning"));
console.log(TagName3 + ": " + (tomorrowCollection.length > 0));
console.log(TagName4 + ": " + (tomorrowCollection.join(" & ") || "Ingen hämtning"));
